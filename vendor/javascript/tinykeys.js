// tinykeys@3.0.0 downloaded from https://ga.jspm.io/npm:tinykeys@3.0.0/dist/tinykeys.module.js

var e=["Shift","Meta","Alt","Control"],t="object"==typeof navigator?navigator.platform:"",n=/Mac|iPod|iPhone|iPad/.test(t),r=n?"Meta":"Control",o="Win32"===t?["Control","Alt"]:n?["Alt"]:[];function i(e,t){return"function"==typeof e.getModifierState&&(e.getModifierState(t)||o.includes(t)&&e.getModifierState("AltGraph"))}function a(e){return e.trim().split(" ").map((function(e){var t=e.split(/\b\+/),n=t.pop(),o=n.match(/^\((.+)\)$/);return o&&(n=new RegExp("^"+o[1]+"$")),[t=t.map((function(e){return"$mod"===e?r:e})),n]}))}function u(t,n){var r=n[0],o=n[1];return!((o instanceof RegExp?!o.test(t.key)&&!o.test(t.code):o.toUpperCase()!==t.key.toUpperCase()&&o!==t.code)||r.find((function(e){return!i(t,e)}))||e.find((function(e){return!r.includes(e)&&o!==e&&i(t,e)})))}function c(e,t){var n;void 0===t&&(t={});var r=null!=(n=t.timeout)?n:1e3,o=Object.keys(e).map((function(t){return[a(t),e[t]]})),d=new Map,s=null;return function(e){e instanceof KeyboardEvent&&(o.forEach((function(t){var n=t[0],r=t[1],o=d.get(n)||n;u(e,o[0])?o.length>1?d.set(n,o.slice(1)):(d.delete(n),r(e)):i(e,e.key)||d.delete(n)})),s&&clearTimeout(s),s=setTimeout(d.clear.bind(d),r))}}function f(e,t,n){var r=void 0===n?{}:n,o=r.event,d=void 0===o?"keydown":o,s=r.capture,l=c(t,{timeout:r.timeout});return e.addEventListener(d,l,s),function(){e.removeEventListener(d,l,s)}}export{c as createKeybindingsHandler,u as matchKeyBindingPress,a as parseKeybinding,f as tinykeys};

