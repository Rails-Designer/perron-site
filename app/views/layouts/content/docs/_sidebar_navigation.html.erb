<%# locals: (top_level_items: [], sections: []) %>
<nav id="nav" data-action="scrollTo#instant:mounted" data-target="#current-item" class="hidden fixed top-0 bottom-0 right-auto w-(--nav-width) bg-white z-10 overflow-y-auto lg:block [&[open]]:block lg:top-10">
  <ul class="mt-4 px-2 grid gap-y-1 text-base overflow-y-auto md:px-4 lg:px-8 md:text-sm lg:mt-6 [--nav-vertical-spacing:1.25rem]">
    <% top_level_items.each do |item| %>
      <li>
        <%= link_to safe_join([icon(item[:icon], variant: :duotone, class: "size-5 p-px text-gray-600 fill-gray-600 bg-white border border-gray-200 shadow-sm rounded-md transition group-hover/link:border-gray-300 group-hover/link:shadow-md"), item[:label]]), item[:href], class: class_names("flex items-center gap-x-2 px-(--nav-vertical-spacing) py-2 font-bold text-gray-800 rounded-md group/link", {"bg-gray-100 [&_svg]:shadow-md": item[:current_page?]}) %>
      </li>
    <% end %>

    <%= render partial: "content/articles/navigation/section", collection: sections, as: :section %>
  </ul>

  <div class="relative block mt-12 py-12 border-t border-gray-100 overflow-clip isolate">
    <%= link_to "by Rails Designer", "https://railsdesigner.com", rel: :nofollow, class: "relative block text-xs text-center font-medium text-gray-400 z-1 transition hover:text-gray-800" %>

    <%= svg "icon", class: "size-48 text-gray-100/60 absolute -top-12 z-0 -rotate-12" %>
  </div>
</nav>

<button
  data-action="removeAttribute#open"
  data-target="#nav"
  class="hidden fixed inset-0 bg-gray-950/30 backdrop-blur-sm z-5 [nav[open]~&]:block lg:hidden"
>
</button>
