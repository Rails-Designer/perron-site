gem "perron" unless File.read("Gemfile").include?("perron")
gem "tailwindcss-rails" unless File.read("Gemfile").include?("tailwindcss-rails")

after_bundle do
  unless File.exist?("config/initializers/perron.rb")
    rails_command "generate perron:install"
  end
  rails_command "tailwindcss:install"
  rails_command "generate content page show"

<% template_files.each do |path, file| %>
file "<%= path %>", force: true do
<<~"_"
<%= File.read(file) %>
_
end
<% end %>
end
